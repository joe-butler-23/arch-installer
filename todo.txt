- Need to deal with the hyprland.conf issue whereit automatically updates itself
- Part of the process will include AI checking the log for the install to see if amends are required
- CHeck the current approach against requirements from previous implementations and start testing on desktop
- Can I save stuff like my bluetooth configs?
- Get UWSM set up as part of install 
- Need to install AUR as part of a post-install script, as well as 1password (via aur)
- Compare the current documentation I have and the arhc-maintain script with everything else I have included here 
- Could I make puttig system into setup mode for secure boot part of the pre-install? ANd remove from post-install
- znap to speed up zsh stuff
- background wallpaper
- waybar stuff
- add a browser (brave?)

## Questions to check

is the system using UKI?
what does the post install script need to look like?
does the btrfs set up have zstd compression?
what is snappac? should i include?
look at jules code review: 

## Packages to add to packages.txt (confirm first that these are all available on pacman):

- **noto-fonts-emoji** - Google Noto emoji fonts
- **ttf-nerd-fonts-symbols-mono** - Nerd Font symbols for terminal icons
- **wl-clipboard** - Wayland clipboard utilities (wl-copy, wl-paste)
- **tumbler** - Thumbnail generator for Thunar
- **smartmontools** - Disk health monitoring (S.M.A.R.T.)
- **hdparm** - Hard disk parameter configuration
- **fwupd** - Firmware update service
- **man-db** - Manual page database
- **man-pages** - Linux manual pages
- **texinfo** - GNU documentation system
- kanshi
- zsh-completions
- **ripgrep** - Fast grep alternative (rg)
- **fd** - Fast find alternative
- **bat** - Cat with syntax highlighting
- **btop** - Resource monitor
- **htop** - Process viewer
- **lazygit** - Git terminal UI
- **yazi** - Terminal file manager
- **pandoc** - Universal document converter
- **tectonic** - Modern LaTeX engine
- **zathura-pdf-mupdf** - PDF backend for Zathura
- **nwg-look** - GTK theme settings for Wayland
- **qmk-firmware** - QMK keyboard firmware tools
- exa
- zoxide
- starship 
- thunar
- rofi, and remove wofi
- yazi 
- system oomod thing (does this need to be part of an earlier script?)

## Post-install tasks for desktop setup
- [ ] Enable SSH service on fresh desktop (sudo systemctl enable sshd && sudo systemctl start sshd)
- [ ] Configure firewall to allow SSH (sudo ufw allow ssh), maybe have this as a post install script
- [ ] Add section on manual post-install steps for packages and dotfiles

üß© Planned Login and Session Setup (Summary)
üñ•Ô∏è Login flow

Autologin enabled on TTY1 via agetty, so the system logs straight into your user account after boot.

UWSM (Universal Wayland Session Manager) used to launch Hyprland instead of .zprofile or a full display manager.

Provides a proper PAM + systemd user session.

Automatically starts DBus, keyring, and XDG session variables.

Cleaner and more modern than the TTY + .zprofile method, while retaining the same speed and minimalism.

üîê Security model

Full-disk encryption (LUKS) remains the primary protection at rest.
‚Üí No one can access data without the LUKS passphrase.

Autologin therefore poses no real risk, since encryption already gates access.

Hyprlock handles screen lock and suspend password prompt, ensuring the session is protected while running or on wake.

Optional: short idle + suspend timeout using hypridle or systemd-logind.

üóùÔ∏è Keyring and session services

UWSM automatically sets up a proper PAM session and starts a keyring daemon (GNOME Keyring or KWallet).

The keyring unlocks with your system login credentials, so:

SSH and GPG keys become available automatically.

Apps like NetworkManager, VS Code, Chromium, etc., can securely access stored credentials.

‚ö° Result

Boots directly into Hyprland with no greeter, no password prompt, and no redundant services.

Still benefits from:

Proper Wayland session environment

Keyring + DBus autostart

PAM integration

Strong encryption and runtime security via Hyprlock

‚úÖ Summary

A fast, secure, and modern login workflow:

Autologin ‚Üí UWSM ‚Üí Hyprland

LUKS for at-rest protection

Hyprlock for active-session protection

Keyring via PAM for seamless credential access

Zero display-manager bloat, fully systemd-integrated